# 多项目管理系统 - 使用示例

## 场景：同时创作两本小说

### 示例1：创建第一个项目

```bash
$ python3 configure_novel.py

欢迎使用 AI 小说生成器配置向导！
=====================================

请输入小说信息：
  标题: 末日真理从收割生存点开始
  类型: 科幻悬疑
  目标章节数: 100

... (配置角色、世界观等)

✅ 配置保存成功！
✨ 创建新项目: 末日真理从收割生存点开始
   项目ID: 末日真理从收割生存点开始
   配置: /project/novel/projects/末日真理从收割生存点开始/config.yaml
   数据库: /project/novel/projects/末日真理从收割生存点开始/state.db
   稿件目录: /project/novel/projects/末日真理从收割生存点开始/manuscript
```

### 示例2：生成第一本小说的前10章

```bash
$ python3 main.py

📚 AI 小说生成器 - Powered by Claude 4.5
========================================

📚 小说项目列表
========================================
👉 📝 末日真理从收割生存点开始
     ID: 末日真理从收割生存点开始
     进度: 0/100 章
     更新: 2026-02-06 08:30:00

🎬 开始生成章节...
========================================

✓ 完成节点: PLANNER
  生成大纲: 328 字符

✓ 完成节点: WRITER
  生成正文: 3241 字符
  💾 已保存: /project/novel/projects/末日真理从收割生存点开始/manuscript/chapter_001.txt
  📖 章节标题: 七十二小时倒计时

✓ 完成节点: MEMORY
  已完成第 1 章
  世界状态已更新

... (继续生成到第10章)

⚠️  生成已中断 (Ctrl+C)
   进度已保存，下次运行将从断点继续
```

### 示例3：创建第二个项目

```bash
$ python3 configure_novel.py

请输入小说信息：
  标题: 剑道独尊
  类型: 仙侠
  目标章节数: 200

... (配置不同的角色、世界观)

✅ 配置保存成功！
✨ 创建新项目: 剑道独尊
   项目ID: 剑道独尊
```

### 示例4：生成第二本小说

```bash
$ python3 main.py

📚 小说项目列表
========================================
   ⏳ 末日真理从收割生存点开始
     ID: 末日真理从收割生存点开始
     进度: 10/100 章
     更新: 2026-02-06 08:45:00

👉 📝 剑道独尊
     ID: 剑道独尊
     进度: 0/200 章
     更新: 2026-02-06 09:00:00

✨ 创建新项目: 剑道独尊
🎬 开始生成章节...

... (生成剑道独尊的章节)
```

### 示例5：使用项目管理器切换项目

```bash
$ python3 manage_projects.py

================================================================================
📚 小说项目列表
================================================================================
   ⏳ 末日真理从收割生存点开始
     ID: 末日真理从收割生存点开始
     进度: 10/100 章
     更新: 2026-02-06 08:45:00

👉 ⏳ 剑道独尊
     ID: 剑道独尊
     进度: 15/200 章
     更新: 2026-02-06 09:30:00

操作选项:
  1. 切换当前项目
  2. 删除项目
  3. 查看项目详情
  4. 退出

请选择操作 (1-4): 1

可用项目:
  1. 末日真理从收割生存点开始 (末日真理从收割生存点开始)
  2. 剑道独尊 (剑道独尊)

请选择项目编号: 1

✅ 已切换到项目: 末日真理从收割生存点开始
```

### 示例6：继续第一本小说

```bash
$ python3 main.py

📚 小说项目列表
========================================
👉 ⏳ 末日真理从收割生存点开始
     ID: 末日真理从收割生存点开始
     进度: 10/100 章
     更新: 2026-02-06 08:45:00

🔄 使用现有项目: 末日真理从收割生存点开始

🔄 检测到未完成的生成任务
   进度: 已完成 10/100 章
   将从第 11 章继续生成

   按 Enter 继续，或 Ctrl+C 退出

🔄 从断点恢复生成...

... (从第11章继续生成)
```

### 示例7：查看项目详情

```bash
$ python3 manage_projects.py

操作选项:
  1. 切换当前项目
  2. 删除项目
  3. 查看项目详情
  4. 退出

请选择操作 (1-4): 3

可用项目:
  1. 末日真理从收割生存点开始
  2. 剑道独尊

请选择项目编号: 1

================================================================================
📖 项目详情: 末日真理从收割生存点开始
================================================================================
  项目ID: 末日真理从收割生存点开始
  状态: in_progress
  进度: 50/100 章
  创建时间: 2026-02-06 08:30:00
  更新时间: 2026-02-06 15:20:00

  配置文件: /project/novel/projects/末日真理从收割生存点开始/config.yaml
  数据库: /project/novel/projects/末日真理从收割生存点开始/state.db
  稿件目录: /project/novel/projects/末日真理从收割生存点开始/manuscript
  世界观目录: /project/novel/projects/末日真理从收割生存点开始/bible

按 Enter 继续...
```

### 示例8：删除不需要的项目

```bash
$ python3 manage_projects.py

操作选项:
  1. 切换当前项目
  2. 删除项目
  3. 查看项目详情
  4. 退出

请选择操作 (1-4): 2

可用项目:
  1. ✅ 末日真理从收割生存点开始 (100/100章)
  2. ⏳ 剑道独尊 (50/200章)
  3. 📝 失败的尝试 (0/10章)

请选择要删除的项目编号 (0取消): 3

⚠️  确认删除项目 '失败的尝试'? (yes/no): yes

✅ 已删除项目: 失败的尝试
```

## 项目目录结构示例

```
/project/novel/projects/
├── projects_index.json
│   {
│     "末日真理从收割生存点开始": {
│       "title": "末日真理从收割生存点开始",
│       "status": "completed",
│       "current_chapter": 100,
│       "target_chapters": 100,
│       ...
│     },
│     "剑道独尊": {
│       "title": "剑道独尊",
│       "status": "in_progress",
│       "current_chapter": 50,
│       "target_chapters": 200,
│       ...
│     }
│   }
│
├── current_project.txt
│   末日真理从收割生存点开始
│
├── 末日真理从收割生存点开始/
│   ├── config.yaml (项目配置)
│   ├── state.db (LangGraph状态，50MB)
│   ├── manuscript/
│   │   ├── chapter_001.txt
│   │   ├── chapter_002.txt
│   │   └── ... (100个章节文件)
│   └── bible/
│       └── 末日真理从收割生存点开始_world_state.json
│
└── 剑道独尊/
    ├── config.yaml
    ├── state.db (25MB)
    ├── manuscript/
    │   ├── chapter_001.txt
    │   └── ... (50个章节文件)
    └── bible/
        └── 剑道独尊_world_state.json
```

## 优势总结

1. **数据隔离**：每个项目完全独立，互不干扰
2. **灵活切换**：轻松在多个创作项目间切换
3. **进度保护**：每个项目的进度永久保存
4. **清晰组织**：所有项目文件井然有序
5. **便于管理**：可视化界面管理所有项目
